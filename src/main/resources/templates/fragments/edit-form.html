<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="wa-theme-shoelace">
<body>
    <div th:fragment="edit-form" class="edit-modal-content">
        <div class="modal-header">
            <h3>Edit Product</h3>
            <button class="close-btn" onclick="closeEditModal()">&times;</button>
        </div>
        
        <form th:action="@{/products/{id}/update(id=${product.id})}" 
              method="post"
              hx-post="/products/{id}/update"
              th:hx-post="@{/products/{id}/update(id=${product.id})}"
              hx-target="#product-table-fragment"
              hx-swap="outerHTML"
              hx-on::after-request="closeEditModal()"
              hx-vals='{"sortBy": "id", "sortOrder": "asc"}'>
              
            <div class="form-group">
                <wa-input 
                    type="text" 
                    id="productId" 
                    th:value="${product.id}" 
                    disabled
                    label="Product ID">
                </wa-input>
            </div>
            
            <div class="form-group">
                <wa-input 
                    type="text" 
                    id="title" 
                    name="title" 
                    th:value="${product.title}" 
                    required
                    label="Product Title">
                </wa-input>
            </div>
            
            <div class="form-group">
                <wa-input 
                    type="text" 
                    id="productType" 
                    name="productType" 
                    th:value="${product.productType}"
                    label="Product Type">
                </wa-input>
            </div>
            
            <div class="wa-mt-m">
                <wa-button type="submit" variant="success" class="wa-mr-s">
                    Update Product
                </wa-button>
                <wa-button variant="neutral" onclick="closeEditModal()">
                    Cancel
                </wa-button>
            </div>
        </form>
    </div>
</body>
</html>